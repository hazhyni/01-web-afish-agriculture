---
import Layout from '../layouts/Layout.astro';

const images = [
  '/img/farm.jpg',
  '/img/padi.jpg',
  '/img/rice.jpg', 
  '/img/tea.jpg',
  '/img/teh.jpg',
  '/img/wheat.jpg',
  '/img/check.jpg'
];
---

<Layout title="Services - AGRISPACE">
  <style>
    :root {
      --brand-grad: linear-gradient(135deg, #facc15 0%, #f97316 100%);
      --yellow: #facc15;
    }
    
    .nav-wrap {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 100;
      background: rgba(0, 0, 0, 0.85);
      backdrop-filter: blur(12px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.08);
    }
    .nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 16px clamp(20px, 5vw, 80px);
      max-width: 1400px;
      margin: 0 auto;
    }
    .nav-brand {
      font-size: 20px;
      font-weight: 800;
      color: #fff;
      text-decoration: none;
      letter-spacing: -0.02em;
    }
    .nav-links {
      display: flex;
      gap: 32px;
    }
    .nav-links a {
      color: #e5e7eb;
      text-decoration: none;
      font-weight: 500;
      transition: color 0.2s ease;
    }
    .nav-links a:hover {
      color: var(--yellow);
    }
    .nav-actions {
      display: flex;
      align-items: center;
      gap: 16px;
    }
    .nav-actions a {
      color: #e5e7eb;
      text-decoration: none;
      font-weight: 500;
      transition: color 0.2s ease;
    }
    .nav-actions a:hover {
      color: var(--yellow);
    }
    .nav .cta {
      background: var(--brand-grad);
      color: #071b0c;
      padding: 10px 16px;
      border-radius: 8px;
      font-weight: 700;
      border: 1px solid rgba(255, 255, 255, 0.1);
      transition: transform 0.2s ease;
    }
    .nav .cta:hover {
      transform: translateY(-1px);
      color: #071b0c;
    }
    
    @media (max-width: 768px) {
      .nav-links {
        display: none;
      }
      .nav {
        padding: 12px 20px;
      }
    }

    /* HERO */
    .hero {
      min-height: 100vh;
      display: grid;
      grid-template-columns: 1.2fr 1fr;
    }
    .hero-left {
      background: #000;
      display: grid;
      align-content: center;
      padding: clamp(24px, 6vw, 120px);
    }
    .eyebrow {
      color: var(--yellow);
      text-transform: uppercase;
      letter-spacing: 0.15em;
      font-weight: 700;
      font-size: 12px;
    }
    .title {
      font-size: clamp(40px, 7vw, 96px);
      line-height: 0.98;
      font-weight: 800;
      letter-spacing: -0.02em;
    }
    .lead {
      color: #cbd5e1;
      font-size: clamp(16px, 1.6vw, 22px);
      max-width: 56ch;
    }
    .actions {
      display: flex;
      gap: 12px;
      margin-top: 20px;
    }
    .btn {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 14px 18px;
      border-radius: 10px;
      font-weight: 700;
      text-decoration: none;
    }
    .btn-primary {
      background: var(--brand-grad);
      color: #111;
      box-shadow: 0 6px 20px rgba(250, 204, 21, 0.25);
    }
    .btn-ghost {
      border: 1px solid rgba(234, 179, 8, 0.6);
      color: #fff;
    }
    .btn-ghost:hover {
      background: rgba(249, 115, 22, 0.12);
      border-color: rgba(249, 115, 22, 0.85);
    }
    .bullets {
      margin-top: 20px;
      color: #e5e7eb;
      font-size: 14px;
    }
    .bullets b {
      color: var(--yellow);
    }

    /* RIGHT: animated collage */
    .hero-right {
      position: relative;
      overflow: hidden;
      background: radial-gradient(
          900px 420px at 100% 0%,
          rgba(22, 163, 74, 0.2),
          transparent
        ),
        radial-gradient(
          700px 380px at 0% 100%,
          rgba(234, 179, 8, 0.14),
          transparent
        ),
        #0a0a0a;
    }
    .stack {
      position: absolute;
      inset: 0;
      display: grid;
      place-items: center;
    }
    .frame {
      position: absolute;
      width: min(480px, 42vw);
      aspect-ratio: 16/10;
      border-radius: 18px;
      overflow: hidden;
      border: 1px solid rgba(255, 255, 255, 0.14);
      box-shadow:
        0 30px 60px rgba(0, 0, 0, 0.45),
        0 0 0 1px rgba(234, 179, 8, 0.15) inset;
      transform-origin: center;
      opacity: 0.95;
      background: #111;
      animation: floatY 9s ease-in-out infinite var(--delay, 0ms);
    }
    .frame img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      filter: saturate(1.05) contrast(1.05);
    }

    /* Parallax layers */
    .f1 {
      transform: translate(-12%, -10%) rotate(-2deg);
      --delay: 0ms;
      z-index: 3;
    }
    .f2 {
      transform: translate(16%, 4%) rotate(2deg);
      --delay: 300ms;
      z-index: 2;
    }
    .f3 {
      transform: translate(0%, 22%) rotate(-1deg);
      --delay: 600ms;
      z-index: 1;
    }

    /* Slow slide background strip */
    .strip {
      position: absolute;
      inset: -10% -20%;
      display: flex;
      gap: 18px;
      transform: rotate(-12deg);
      opacity: 0.9;
    }
    .strip .thumb {
      flex: 0 0 360px;
      height: 220px;
      border-radius: 14px;
      overflow: hidden;
      border: 1px solid rgba(255, 255, 255, 0.08);
      box-shadow: 0 8px 24px rgba(16, 185, 129, 0.12);
    }
    .strip .thumb img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    .strip.a {
      top: 10%;
      animation: slideX 40s linear infinite;
    }
    .strip.b {
      bottom: 8%;
      animation: slideX 46s linear infinite reverse;
    }

    @keyframes slideX {
      from {
        transform: translateX(0) rotate(-12deg);
      }
      to {
        transform: translateX(-50%) rotate(-12deg);
      }
    }
    @keyframes floatY {
      0%,
      100% {
        transform: translateY(0);
      }
      50% {
        transform: translateY(-8px);
      }
    }

    @media (max-width: 960px) {
      .hero {
        grid-template-columns: 1fr;
      }
      .hero-right {
        min-height: 70vh;
      }
      .hero-left {
        padding: 56px 24px;
      }
    }

    /* Respect reduced motion */
    @media (prefers-reduced-motion: reduce) {
      .frame,
      .strip {
        animation: none !important;
      }
    }
  </style>

  <div class="nav-wrap">
    <div class="nav">
      <a href="/" class="nav-brand">AGRISPACE</a>
      <div class="nav-links">
        <a href="#produk">Produk</a>
        <a href="#fitur">Fitur</a>
        <a href="#harga">Harga</a>
        <a href="#resources">Resources</a>
      </div>
      <div class="nav-actions">
        <a href="#login">Log In</a>
        <a href="#mulai" class="cta">Get Started</a>
      </div>
    </div>
  </div>

  <!-- HERO ala Squarespace: teks besar kiri, kolase bergerak kanan -->
  <section class="hero">
    <div class="hero-left">
      <div class="eyebrow">Template agrikultur — tanpa ribet</div>
      <h1 class="title">
        Buat website<br />agrikultur <span
          style="background:var(--brand-grad); -webkit-background-clip:text; background-clip:text; color:transparent;"
          >modern</span
        >
      </h1>
      <p class="lead mt-3">
        Template yang mudah diedit, tanpa coding. Fitur komersial & pemasaran
        lengkap untuk usaha pangan dan hortikultura.
      </p>
      <div class="actions">
        <a class="btn btn-primary" href="#templates">Lihat Template</a>
        <a class="btn btn-ghost" href="#demo">Coba Demo</a>
      </div>
      <div class="bullets mt-3">
        Free trial, tanpa kartu kredit • Optimasi SEO • Integrasi WhatsApp &
        Marketplace
      </div>
    </div>

    <div class="hero-right">
      <!-- slow background strips of thumbs -->
      <div class="strip a">
        {
          images.slice(0, 6).map((src) => (
            <div class="thumb">
              <img src={src} alt="Agriculture" loading="lazy" />
            </div>
          ))
        }
      </div>
      <div class="strip b">
        {
          images.slice(3, 9).map((src) => (
            <div class="thumb">
              <img src={src} alt="Agriculture" loading="lazy" />
            </div>
          ))
        }
      </div>

      <!-- floating main frames (like Squarespace previews) -->
      <div class="stack">
        <figure class="frame f1">
          <img src={images[0]} alt="Preview 1" />
        </figure>
        <figure class="frame f2">
          <img src={images[4]} alt="Preview 2" />
        </figure>
        <figure class="frame f3">
          <img src={images[7]} alt="Preview 3" />
        </figure>
      </div>
    </div>
  </section>

  <!-- Placeholder sections -->
  <section
    id="fitur"
    style="padding:80px 24px; background:#0a0a0a; border-top:1px solid rgba(255,255,255,.06)"
  >
    <div style="max-width:1100px; margin:0 auto">
      <h2 style="font-size:36px; font-weight:800; letter-spacing:-.02em">
        Fitur untuk rantai pasok
      </h2>
      <div class="row g-4 mt-2">
        <div class="col-md-4">
          <p class="text-secondary">Dasbor harga & stok real‑time</p>
        </div>
        <div class="col-md-4">
          <p class="text-secondary">Pelacakan pengiriman & suhu</p>
        </div>
        <div class="col-md-4">
          <p class="text-secondary">Katalog produk hasil panen</p>
        </div>
      </div>
    </div>
  </section>

  <script>
    // Optional: swap images in frames setiap beberapa detik biar terasa "hidup"
    document.addEventListener("DOMContentLoaded", () => {
      const list = Array.from(document.querySelectorAll(".frame img"));
      const pool = [
        "/img/farm.jpg",
        "/img/padi.jpg", 
        "/img/rice.jpg",
        "/img/tea.jpg",
        "/img/teh.jpg",
        "/img/wheat.jpg",
        "/img/check.jpg"
      ];
      let ptr = 0;
      setInterval(() => {
        const target = list[Math.floor(Math.random() * list.length)] as HTMLImageElement;
        target.style.transition = "opacity .6s ease";
        target.style.opacity = "0";
        setTimeout(() => {
          target.src = pool[ptr % pool.length];
          ptr++;
          target.style.opacity = "1";
        }, 320);
      }, 3800);
    });
  </script>
</Layout>