---
const videos = [
  {
    id: "video-001",
    title: "Teknik Irigasi Tetes Modern",
    thumbnail: "/img/rice.jpg",
    duration: "8:45",
    category: "irigasi",
    description: "Pelajari cara menghemat air hingga 50% dengan sistem irigasi tetes yang mudah diterapkan.",
    embedId: "dQw4w9WgXcQ" // YouTube video ID
  },
  {
    id: "video-002", 
    title: "Hidroponik untuk Pemula",
    thumbnail: "/img/teh.jpg",
    duration: "12:30",
    category: "teknik",
    description: "Panduan lengkap memulai bertani hidroponik di rumah dengan modal minimal.",
    embedId: "dQw4w9WgXcQ"
  },
  {
    id: "video-003",
    title: "Pupuk Organik dari Limbah Dapur", 
    thumbnail: "/img/farming.jpg",
    duration: "6:15",
    category: "organik",
    description: "Cara membuat kompos berkualitas tinggi dari sisa makanan untuk pertanian organik.",
    embedId: "dQw4w9WgXcQ"
  }
];
---

<section style="padding:60px 20px; background:#1a2e05">
  <div style="max-width:1200px; margin:0 auto">
    <h2 style="text-align:center; margin-bottom:3rem; color:#f7fee7; font-weight:800; font-size:clamp(28px, 4vw, 40px)">
      Video Edukasi
    </h2>
    
    <div style="display:grid; grid-template-columns:repeat(auto-fit, minmax(320px, 1fr)); gap:24px">
      {videos.map((video) => (
        <div 
          class="video-card"
          style="background:rgba(249,115,22,0.08); border:1px solid rgba(249,115,22,0.15); border-radius:16px; overflow:hidden; transition:all 0.3s; cursor:pointer"
          data-video-id={video.embedId}
        >
          <div style="position:relative; height:180px; overflow:hidden">
            <img 
              src={video.thumbnail} 
              alt={video.title}
              style="width:100%; height:100%; object-fit:cover"
            />
            <div style="position:absolute; top:12px; right:12px; background:rgba(0,0,0,0.7); color:white; padding:4px 8px; border-radius:8px; font-size:0.75rem; font-weight:600">
              {video.duration}
            </div>
            <div style="position:absolute; top:12px; left:12px; background:#f97316; color:white; padding:4px 10px; border-radius:12px; font-size:0.75rem; font-weight:600; text-transform:capitalize">
              {video.category}
            </div>
            <div style="position:absolute; inset:0; display:flex; align-items:center; justify-content:center; background:rgba(0,0,0,0.3); opacity:0; transition:opacity 0.3s" class="play-overlay">
              <div style="width:60px; height:60px; background:rgba(249,115,22,0.9); border-radius:50%; display:flex; align-items:center; justify-content:center; color:white; font-size:24px">
                ▶
              </div>
            </div>
          </div>
          
          <div style="padding:20px">
            <h3 style="color:#f7fee7; font-size:1.1rem; font-weight:700; margin-bottom:12px; line-height:1.4">
              {video.title}
            </h3>
            <p style="color:#d9f99d; font-size:0.9rem; line-height:1.5; margin:0">
              {video.description}
            </p>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>

<!-- Video Modal -->
<div id="videoModal" style="display:none; position:fixed; inset:0; background:rgba(0,0,0,0.8); z-index:1000; padding:20px">
  <div style="max-width:800px; margin:0 auto; position:relative; top:50%; transform:translateY(-50%)">
    <button 
      id="closeModal"
      style="position:absolute; top:-40px; right:0; background:none; border:none; color:white; font-size:24px; cursor:pointer"
    >
      ✕
    </button>
    <div style="position:relative; padding-bottom:56.25%; height:0; background:#000; border-radius:8px; overflow:hidden">
      <iframe 
        id="videoFrame"
        style="position:absolute; top:0; left:0; width:100%; height:100%"
        frameborder="0"
        allowfullscreen
      ></iframe>
    </div>
  </div>
</div>

<style>
  .video-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 30px rgba(249,115,22,0.15);
    border-color: rgba(249,115,22,0.3);
  }
  
  .video-card:hover .play-overlay {
    opacity: 1;
  }
  
  @media (max-width: 768px) {
    section {
      padding: 40px 16px !important;
    }
    section > div > div {
      grid-template-columns: 1fr !important;
    }
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const videoCards = document.querySelectorAll('.video-card');
    const modal = document.getElementById('videoModal');
    const videoFrame = document.getElementById('videoFrame');
    const closeModal = document.getElementById('closeModal');
    
    videoCards.forEach(card => {
      card.addEventListener('click', function() {
        const videoId = this.dataset.videoId;
        videoFrame.src = `https://www.youtube.com/embed/${videoId}?autoplay=1`;
        modal.style.display = 'block';
        document.body.style.overflow = 'hidden';
      });
    });
    
    closeModal.addEventListener('click', function() {
      modal.style.display = 'none';
      videoFrame.src = '';
      document.body.style.overflow = 'auto';
    });
    
    modal.addEventListener('click', function(e) {
      if (e.target === modal) {
        modal.style.display = 'none';
        videoFrame.src = '';
        document.body.style.overflow = 'auto';
      }
    });
  });
</script>